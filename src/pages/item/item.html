<!--
  Generated template for the Item page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title text-center>Add new Item</ion-title>
    <ion-buttons end>
    	<button ion-button icon-only (click)="closeModal()"><ion-icon name="close"></ion-icon></button>
    </ion-buttons>
  </ion-navbar>
  <div *ngIf="items">
	  <ion-searchbar placeholder="Search Item" 
	  		  [(ngModel)]="itemSearch"
		  [showCancelButton]="shouldShowCancel"
		  (ionInput)="getItems($event)"
		  (ionCancel)="onCancel($event)">
	  </ion-searchbar>
  </div>


</ion-header>


<ion-content >
	<br>
	<ion-list inset>
	    <ion-item *ngFor="let item of filterItems" (click)="onItemSelected(item)">
	      <h4>{{ item.code }} : {{item.description}}</h4>
	    </ion-item>
  	</ion-list>
  	<div *ngIf="itemSelected" padding>	
	    <h3 color="primary">{{itemSelected.code}}</h3>	    
	    <p>{{itemSelected.description}}</p>
	    
	    <form (ngSubmit)="submitForm(itemsForm.value)" #itemsForm="ngForm">
	      <div class="form-group">
	        <ion-label fixe>Quantity...</ion-label>
	        <ion-input type="text" class="form-control" id="quantity"
	               required
	               [(ngModel)]="quantity" name="quantity" #quant="ngModel"
	               (ionInput)="inputValue($event)"
	               >
	        </ion-input>
	        <div class="error-box"  *ngIf="!quant.valid && quant.touched"
	             class="alert alert-danger">
	          * Quantity is required
	        </div>
	      </div>
	      <button type="submit" ion-button color="light" full [disabled]="!itemsForm.form.valid">
					<ion-icon name="save"></ion-icon>
					Save
		  </button>
	    </form>
	</div>
	 
</ion-content>
